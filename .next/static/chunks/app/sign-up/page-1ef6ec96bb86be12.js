(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[914],{1419:function(e,t,s){Promise.resolve().then(s.bind(s,6861))},6861:function(e,t,s){"use strict";s.r(t);var a=s(7437),r=s(4033),n=s(2265),i=s(5242),l=s(6864);t.default=(0,i.Z)(()=>{let e=(0,r.useRouter)(),[t,s]=(0,n.useState)(""),i=async t=>{try{let a=await fetch("/api/sign-up",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t})});if(a.ok)await a.json(),s(""),e.push("/login");else{let e=await a.text();s(e)}}catch(e){console.error("Error during signup:",e),s("An error occurred. Please try again.")}};return(0,a.jsx)(l.Z,{onSubmit:i,type:"signup",error:t})})},6864:function(e,t,s){"use strict";var a=s(7437),r=s(1396),n=s.n(r),i=s(5242),l=s(1865),c=s(9479),o=s(5060),u=s(6691),m=s.n(u);t.Z=(0,i.Z)(e=>{let{onSubmit:t,type:s,error:r}=e,{register:i,handleSubmit:u,formState:{errors:d,isSubmitting:x}}=(0,l.cI)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex flex-1 flex-col justify-center px-6 py-12 lg:px-8 font-inter",children:[(0,a.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[(0,a.jsx)(m(),{className:"mx-auto h-10 w-auto",src:o.Z,alt:"cooks compass"}),(0,a.jsx)("h2",{className:"mt-2 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"signup"===s?"Create a new account":"Log in account"})]}),(0,a.jsxs)("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[r&&(0,a.jsx)("p",{className:"text-red-500 mb-2",children:r}),(0,a.jsxs)("form",{className:"space-y-4 ",onSubmit:u(t),children:[(0,a.jsx)(c.Z,{label:"Email address",placeholder:"Email",id:"email",name:"email",type:"email",autoComplete:"email",register:i,errors:d.email,required:!0,cytest:"auth-email"}),"signin"!==s&&(0,a.jsx)(c.Z,{label:"Name",placeholder:"Your username",id:"name",type:"text",name:"name",autoComplete:"name",register:i,errors:d.name,required:!0,cytest:"auth-name"}),(0,a.jsx)(c.Z,{label:"Password",placeholder:"Password",id:"password",name:"password",type:"password",autoComplete:"current-password",register:i,errors:d.password,required:!0,cytest:"auth-password"}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",className:"black_btn w-full",disabled:x,children:"signup"===s?"Sign up":"Log in"})})]}),"signin"!==s?(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Already have an account?"," ",(0,a.jsx)(n(),{href:"/login",className:"font-semibold leading-6 text-gray-600 hover:text-gray-400 transition-colors ","data-cy":"link-to-login-page",children:"Sign in"})]}):(0,a.jsxs)("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Don't have an account?"," ",(0,a.jsx)(n(),{href:"/sign-up",className:"font-semibold leading-6 text-gray-600 hover:text-gray-400 transition-colors ","data-cy":"link-to-signup-page",children:"Sign up"})]})]})]})})})},5242:function(e,t,s){"use strict";var a=s(7437),r=s(2749),n=s(4033),i=s(2265);t.Z=function(e){return function(t){let{data:s}=(0,r.useSession)(),l=(0,n.useRouter)();return((0,i.useEffect)(()=>{s&&l.push("/")},[]),s)?null:(0,a.jsx)(e,{...t})}}},9479:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=e=>{let{placeholder:t,label:s,type:r,desc:n,className:i,errors:l,name:c,register:o,autoComplete:u,required:m,accept:d,id:x,cytest:p}=e;return(0,a.jsxs)("div",{className:"w-full",children:[s&&(0,a.jsxs)("label",{htmlFor:c,className:"block text-sm font-medium leading-6 text-gray-900 mb-2",children:[s,(0,a.jsxs)("span",{className:"font-normal",children:[" ",n]})]}),(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("input",{...o(c,{required:!!m&&"".concat(c," is required")}),id:x,type:r,accept:d,autoComplete:u,placeholder:t,"data-cy":p,className:"form_input w-full  ".concat(i," ").concat(l&&"border-red-500"," ")}),l&&(0,a.jsx)("p",{className:"text-red-500 mt-2",children:"".concat(s," field is required")})]})]})}},5060:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.efcadee1.svg",height:32,width:32,blurWidth:0,blurHeight:0}},4033:function(e,t,s){e.exports=s(8165)}},function(e){e.O(0,[661,685,599,971,596,744],function(){return e(e.s=1419)}),_N_E=e.O()}]);